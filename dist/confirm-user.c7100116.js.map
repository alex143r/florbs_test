{"version":3,"sources":["node_modules/micro-api-client/lib/pagination.js","node_modules/micro-api-client/lib/index.js","node_modules/gotrue-js/lib/admin.js","node_modules/gotrue-js/lib/user.js","node_modules/gotrue-js/lib/index.js","confirm-user.js"],"names":["token","initListeners","document","querySelector","addEventListener","clickConfirm","window","location","href","split","auth","GoTrue","APIUrl","setCookie","confirm"],"mappings":"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","file":"confirm-user.c7100116.js","sourceRoot":"..","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.getPagination = getPagination;\nfunction getPagination(response) {\n  var links = response.headers.get(\"Link\");\n  var pagination = {};\n  //var link, url, rel, m, page;\n  if (links == null) {\n    return null;\n  }\n  links = links.split(\",\");\n  var total = response.headers.get(\"X-Total-Count\");\n\n  for (var i = 0, len = links.length; i < len; i++) {\n    var link = links[i].replace(/(^\\s*|\\s*$)/, \"\");\n\n    var _link$split = link.split(\";\"),\n        _link$split2 = _slicedToArray(_link$split, 2),\n        url = _link$split2[0],\n        rel = _link$split2[1];\n\n    var m = url.match(/page=(\\d+)/);\n    var page = m && parseInt(m[1], 10);\n    if (rel.match(/last/)) {\n      pagination.last = page;\n    } else if (rel.match(/next/)) {\n      pagination.next = page;\n    } else if (rel.match(/prev/)) {\n      pagination.prev = page;\n    } else if (rel.match(/first/)) {\n      pagination.first = page;\n    }\n  }\n\n  pagination.last = Math.max(pagination.last || 0, pagination.prev && pagination.prev + 1 || 0);\n  pagination.current = pagination.next ? pagination.next - 1 : pagination.last || 1;\n  pagination.total = total ? parseInt(total, 10) : null;\n\n  return pagination;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JSONHTTPError = exports.TextHTTPError = exports.HTTPError = exports.getPagination = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _pagination = require(\"./pagination\");\n\nObject.defineProperty(exports, \"getPagination\", {\n  enumerable: true,\n  get: function get() {\n    return _pagination.getPagination;\n  }\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nvar HTTPError = exports.HTTPError = function (_extendableBuiltin2) {\n  _inherits(HTTPError, _extendableBuiltin2);\n\n  function HTTPError(response) {\n    _classCallCheck(this, HTTPError);\n\n    var _this = _possibleConstructorReturn(this, (HTTPError.__proto__ || Object.getPrototypeOf(HTTPError)).call(this, response.statusText));\n\n    _this.name = _this.constructor.name;\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(_this, _this.constructor);\n    } else {\n      _this.stack = new Error(response.statusText).stack;\n    }\n    _this.status = response.status;\n    return _this;\n  }\n\n  return HTTPError;\n}(_extendableBuiltin(Error));\n\nvar TextHTTPError = exports.TextHTTPError = function (_HTTPError) {\n  _inherits(TextHTTPError, _HTTPError);\n\n  function TextHTTPError(response, data) {\n    _classCallCheck(this, TextHTTPError);\n\n    var _this2 = _possibleConstructorReturn(this, (TextHTTPError.__proto__ || Object.getPrototypeOf(TextHTTPError)).call(this, response));\n\n    _this2.data = data;\n    return _this2;\n  }\n\n  return TextHTTPError;\n}(HTTPError);\n\nvar JSONHTTPError = exports.JSONHTTPError = function (_HTTPError2) {\n  _inherits(JSONHTTPError, _HTTPError2);\n\n  function JSONHTTPError(response, json) {\n    _classCallCheck(this, JSONHTTPError);\n\n    var _this3 = _possibleConstructorReturn(this, (JSONHTTPError.__proto__ || Object.getPrototypeOf(JSONHTTPError)).call(this, response));\n\n    _this3.json = json;\n    return _this3;\n  }\n\n  return JSONHTTPError;\n}(HTTPError);\n\nvar API = function () {\n  function API() {\n    var apiURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments[1];\n\n    _classCallCheck(this, API);\n\n    this.apiURL = apiURL;\n    if (this.apiURL.match(/\\/[^\\/]?/)) {\n      // eslint-disable-line no-useless-escape\n      this._sameOrigin = true;\n    }\n    this.defaultHeaders = options && options.defaultHeaders || {};\n  }\n\n  _createClass(API, [{\n    key: \"headers\",\n    value: function headers() {\n      var _headers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _extends({}, this.defaultHeaders, {\n        \"Content-Type\": \"application/json\"\n      }, _headers);\n    }\n  }, {\n    key: \"parseJsonResponse\",\n    value: function parseJsonResponse(response) {\n      return response.json().then(function (json) {\n        if (!response.ok) {\n          return Promise.reject(new JSONHTTPError(response, json));\n        }\n\n        var pagination = (0, _pagination.getPagination)(response);\n        return pagination ? { pagination: pagination, items: json } : json;\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function request(path) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var headers = this.headers(options.headers || {});\n      if (this._sameOrigin) {\n        options.credentials = options.credentials || \"same-origin\";\n      }\n      return fetch(this.apiURL + path, _extends({}, options, { headers: headers })).then(function (response) {\n        var contentType = response.headers.get(\"Content-Type\");\n        if (contentType && contentType.match(/json/)) {\n          return _this4.parseJsonResponse(response);\n        }\n\n        if (!response.ok) {\n          return response.text().then(function (data) {\n            return Promise.reject(new TextHTTPError(response, data));\n          });\n        }\n        return response.text().then(function (data) {\n          data;\n        });\n      });\n    }\n  }]);\n\n  return API;\n}();\n\nexports.default = API;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Admin = /*#__PURE__*/function () {\n  function Admin(user) {\n    _classCallCheck(this, Admin);\n\n    this.user = user;\n  } // Return a list of all users in an audience\n\n\n  _createClass(Admin, [{\n    key: \"listUsers\",\n    value: function listUsers(aud) {\n      return this.user._request('/admin/users', {\n        method: 'GET',\n        audience: aud\n      });\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser(user) {\n      return this.user._request(\"/admin/users/\".concat(user.id));\n    }\n  }, {\n    key: \"updateUser\",\n    value: function updateUser(user) {\n      var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.user._request(\"/admin/users/\".concat(user.id), {\n        method: 'PUT',\n        body: JSON.stringify(attributes)\n      });\n    }\n  }, {\n    key: \"createUser\",\n    value: function createUser(email, password) {\n      var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      attributes.email = email;\n      attributes.password = password;\n      return this.user._request('/admin/users', {\n        method: 'POST',\n        body: JSON.stringify(attributes)\n      });\n    }\n  }, {\n    key: \"deleteUser\",\n    value: function deleteUser(user) {\n      return this.user._request(\"/admin/users/\".concat(user.id), {\n        method: 'DELETE'\n      });\n    }\n  }]);\n\n  return Admin;\n}();\n\nexports[\"default\"] = Admin;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _microApiClient = _interopRequireWildcard(require(\"micro-api-client\"));\n\nvar _admin = _interopRequireDefault(require(\"./admin.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ExpiryMargin = 60 * 1000;\nvar storageKey = 'gotrue.user';\nvar refreshPromises = {};\nvar currentUser = null;\nvar forbiddenUpdateAttributes = {\n  api: 1,\n  token: 1,\n  audience: 1,\n  url: 1\n};\nvar forbiddenSaveAttributes = {\n  api: 1\n};\n\nvar isBrowser = function isBrowser() {\n  return typeof window !== 'undefined';\n};\n\nvar User = /*#__PURE__*/function () {\n  function User(api, tokenResponse, audience) {\n    _classCallCheck(this, User);\n\n    this.api = api;\n    this.url = api.apiURL;\n    this.audience = audience;\n\n    this._processTokenResponse(tokenResponse);\n\n    currentUser = this;\n  }\n\n  _createClass(User, [{\n    key: \"update\",\n    value: function update(attributes) {\n      var _this = this;\n\n      return this._request('/user', {\n        method: 'PUT',\n        body: JSON.stringify(attributes)\n      }).then(function (response) {\n        return _this._saveUserData(response)._refreshSavedSession();\n      });\n    }\n  }, {\n    key: \"jwt\",\n    value: function jwt(forceRefresh) {\n      var token = this.tokenDetails();\n\n      if (token === null || token === undefined) {\n        return Promise.reject(new Error(\"Gotrue-js: failed getting jwt access token\"));\n      }\n\n      var expires_at = token.expires_at,\n          refresh_token = token.refresh_token,\n          access_token = token.access_token;\n\n      if (forceRefresh || expires_at - ExpiryMargin < Date.now()) {\n        return this._refreshToken(refresh_token);\n      }\n\n      return Promise.resolve(access_token);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      return this._request('/logout', {\n        method: 'POST'\n      }).then(this.clearSession.bind(this))[\"catch\"](this.clearSession.bind(this));\n    }\n  }, {\n    key: \"_refreshToken\",\n    value: function _refreshToken(refresh_token) {\n      var _this2 = this;\n\n      if (refreshPromises[refresh_token]) {\n        return refreshPromises[refresh_token];\n      }\n\n      return refreshPromises[refresh_token] = this.api.request('/token', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: \"grant_type=refresh_token&refresh_token=\".concat(refresh_token)\n      }).then(function (response) {\n        delete refreshPromises[refresh_token];\n\n        _this2._processTokenResponse(response);\n\n        _this2._refreshSavedSession();\n\n        return _this2.token.access_token;\n      })[\"catch\"](function (error) {\n        delete refreshPromises[refresh_token];\n\n        _this2.clearSession();\n\n        return Promise.reject(error);\n      });\n    }\n  }, {\n    key: \"_request\",\n    value: function _request(path) {\n      var _this3 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      options.headers = options.headers || {};\n      var aud = options.audience || this.audience;\n\n      if (aud) {\n        options.headers['X-JWT-AUD'] = aud;\n      }\n\n      return this.jwt().then(function (token) {\n        return _this3.api.request(path, _objectSpread({\n          headers: Object.assign(options.headers, {\n            Authorization: \"Bearer \".concat(token)\n          })\n        }, options))[\"catch\"](function (error) {\n          if (error instanceof _microApiClient.JSONHTTPError && error.json) {\n            if (error.json.msg) {\n              error.message = error.json.msg;\n            } else if (error.json.error) {\n              error.message = \"\".concat(error.json.error, \": \").concat(error.json.error_description);\n            }\n          }\n\n          return Promise.reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"getUserData\",\n    value: function getUserData() {\n      return this._request('/user').then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this));\n    }\n  }, {\n    key: \"_saveUserData\",\n    value: function _saveUserData(attributes, fromStorage) {\n      for (var key in attributes) {\n        if (key in User.prototype || key in forbiddenUpdateAttributes) {\n          continue;\n        }\n\n        this[key] = attributes[key];\n      }\n\n      if (fromStorage) {\n        this._fromStorage = true;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_processTokenResponse\",\n    value: function _processTokenResponse(tokenResponse) {\n      this.token = tokenResponse;\n\n      try {\n        var claims = JSON.parse(urlBase64Decode(tokenResponse.access_token.split('.')[1]));\n        this.token.expires_at = claims.exp * 1000;\n      } catch (error) {\n        console.error(new Error(\"Gotrue-js: Failed to parse tokenResponse claims: \".concat(error)));\n      }\n    }\n  }, {\n    key: \"_refreshSavedSession\",\n    value: function _refreshSavedSession() {\n      // only update saved session if we previously saved something\n      if (isBrowser() && localStorage.getItem(storageKey)) {\n        this._saveSession();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_saveSession\",\n    value: function _saveSession() {\n      isBrowser() && localStorage.setItem(storageKey, JSON.stringify(this._details));\n      return this;\n    }\n  }, {\n    key: \"tokenDetails\",\n    value: function tokenDetails() {\n      return this.token;\n    }\n  }, {\n    key: \"clearSession\",\n    value: function clearSession() {\n      User.removeSavedSession();\n      this.token = null;\n      currentUser = null;\n    }\n  }, {\n    key: \"admin\",\n    get: function get() {\n      return new _admin[\"default\"](this);\n    }\n  }, {\n    key: \"_details\",\n    get: function get() {\n      var userCopy = {};\n\n      for (var key in this) {\n        if (key in User.prototype || key in forbiddenSaveAttributes) {\n          continue;\n        }\n\n        userCopy[key] = this[key];\n      }\n\n      return userCopy;\n    }\n  }], [{\n    key: \"removeSavedSession\",\n    value: function removeSavedSession() {\n      isBrowser() && localStorage.removeItem(storageKey);\n    }\n  }, {\n    key: \"recoverSession\",\n    value: function recoverSession(apiInstance) {\n      if (currentUser) {\n        return currentUser;\n      }\n\n      var json = isBrowser() && localStorage.getItem(storageKey);\n\n      if (json) {\n        try {\n          var data = JSON.parse(json);\n          var url = data.url,\n              token = data.token,\n              audience = data.audience;\n\n          if (!url || !token) {\n            return null;\n          }\n\n          var api = apiInstance || new _microApiClient[\"default\"](url, {});\n          return new User(api, token, audience)._saveUserData(data, true);\n        } catch (error) {\n          console.error(new Error(\"Gotrue-js: Error recovering session: \".concat(error)));\n          return null;\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return User;\n}();\n\nexports[\"default\"] = User;\n\nfunction urlBase64Decode(str) {\n  // From https://jwt.io/js/jwt.js\n  var output = str.replace(/-/g, '+').replace(/_/g, '/');\n\n  switch (output.length % 4) {\n    case 0:\n      break;\n\n    case 2:\n      output += '==';\n      break;\n\n    case 3:\n      output += '=';\n      break;\n\n    default:\n      throw 'Illegal base64url string!';\n  } // polifyll https://github.com/davidchambers/Base64.js\n\n\n  var result = window.atob(output);\n\n  try {\n    return decodeURIComponent(escape(result));\n  } catch (error) {\n    return result;\n  }\n}","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _microApiClient = _interopRequireWildcard(require(\"micro-api-client\"));\n\nvar _user = _interopRequireDefault(require(\"./user.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar HTTPRegexp = /^http:\\/\\//;\nvar defaultApiURL = \"/.netlify/identity\";\n\nvar GoTrue = /*#__PURE__*/function () {\n  function GoTrue() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$APIUrl = _ref.APIUrl,\n        APIUrl = _ref$APIUrl === void 0 ? defaultApiURL : _ref$APIUrl,\n        _ref$audience = _ref.audience,\n        audience = _ref$audience === void 0 ? '' : _ref$audience,\n        _ref$setCookie = _ref.setCookie,\n        setCookie = _ref$setCookie === void 0 ? false : _ref$setCookie;\n\n    _classCallCheck(this, GoTrue);\n\n    if (APIUrl.match(HTTPRegexp)) {\n      console.warn('Warning:\\n\\nDO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!\\nGoTrue REQUIRES HTTPS to work securely.');\n    }\n\n    if (audience) {\n      this.audience = audience;\n    }\n\n    this.setCookie = setCookie;\n    this.api = new _microApiClient[\"default\"](APIUrl);\n  }\n\n  _createClass(GoTrue, [{\n    key: \"_request\",\n    value: function _request(path) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      options.headers = options.headers || {};\n      var aud = options.audience || this.audience;\n\n      if (aud) {\n        options.headers['X-JWT-AUD'] = aud;\n      }\n\n      return this.api.request(path, options)[\"catch\"](function (error) {\n        if (error instanceof _microApiClient.JSONHTTPError && error.json) {\n          if (error.json.msg) {\n            error.message = error.json.msg;\n          } else if (error.json.error) {\n            error.message = \"\".concat(error.json.error, \": \").concat(error.json.error_description);\n          }\n        }\n\n        return Promise.reject(error);\n      });\n    }\n  }, {\n    key: \"settings\",\n    value: function settings() {\n      return this._request('/settings');\n    }\n  }, {\n    key: \"signup\",\n    value: function signup(email, password, data) {\n      return this._request('/signup', {\n        method: 'POST',\n        body: JSON.stringify({\n          email: email,\n          password: password,\n          data: data\n        })\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(email, password, remember) {\n      var _this = this;\n\n      this._setRememberHeaders(remember);\n\n      return this._request('/token', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: \"grant_type=password&username=\".concat(encodeURIComponent(email), \"&password=\").concat(encodeURIComponent(password))\n      }).then(function (response) {\n        _user[\"default\"].removeSavedSession();\n\n        return _this.createUser(response, remember);\n      });\n    }\n  }, {\n    key: \"loginExternalUrl\",\n    value: function loginExternalUrl(provider) {\n      return \"\".concat(this.api.apiURL, \"/authorize?provider=\").concat(provider);\n    }\n  }, {\n    key: \"confirm\",\n    value: function confirm(token, remember) {\n      this._setRememberHeaders(remember);\n\n      return this.verify('signup', token, remember);\n    }\n  }, {\n    key: \"requestPasswordRecovery\",\n    value: function requestPasswordRecovery(email) {\n      return this._request('/recover', {\n        method: 'POST',\n        body: JSON.stringify({\n          email: email\n        })\n      });\n    }\n  }, {\n    key: \"recover\",\n    value: function recover(token, remember) {\n      this._setRememberHeaders(remember);\n\n      return this.verify('recovery', token, remember);\n    }\n  }, {\n    key: \"acceptInvite\",\n    value: function acceptInvite(token, password, remember) {\n      var _this2 = this;\n\n      this._setRememberHeaders(remember);\n\n      return this._request('/verify', {\n        method: 'POST',\n        body: JSON.stringify({\n          token: token,\n          password: password,\n          type: 'signup'\n        })\n      }).then(function (response) {\n        return _this2.createUser(response, remember);\n      });\n    }\n  }, {\n    key: \"acceptInviteExternalUrl\",\n    value: function acceptInviteExternalUrl(provider, token) {\n      return \"\".concat(this.api.apiURL, \"/authorize?provider=\").concat(provider, \"&invite_token=\").concat(token);\n    }\n  }, {\n    key: \"createUser\",\n    value: function createUser(tokenResponse) {\n      var remember = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this._setRememberHeaders(remember);\n\n      var user = new _user[\"default\"](this.api, tokenResponse, this.audience);\n      return user.getUserData().then(function (userData) {\n        if (remember) {\n          userData._saveSession();\n        }\n\n        return userData;\n      });\n    }\n  }, {\n    key: \"currentUser\",\n    value: function currentUser() {\n      var user = _user[\"default\"].recoverSession(this.api);\n\n      user && this._setRememberHeaders(user._fromStorage);\n      return user;\n    }\n  }, {\n    key: \"verify\",\n    value: function verify(type, token, remember) {\n      var _this3 = this;\n\n      this._setRememberHeaders(remember);\n\n      return this._request('/verify', {\n        method: 'POST',\n        body: JSON.stringify({\n          token: token,\n          type: type\n        })\n      }).then(function (response) {\n        return _this3.createUser(response, remember);\n      });\n    }\n  }, {\n    key: \"_setRememberHeaders\",\n    value: function _setRememberHeaders(remember) {\n      if (this.setCookie) {\n        this.api.defaultHeaders = this.api.defaultHeaders || {};\n        this.api.defaultHeaders['X-Use-Cookie'] = remember ? '1' : 'session';\n      }\n    }\n  }]);\n\n  return GoTrue;\n}();\n\nexports[\"default\"] = GoTrue;\n\nif (typeof window !== 'undefined') {\n  window.GoTrue = GoTrue;\n}","import GoTrue from \"gotrue-js\";\nlet token;\nwindow.addEventListener(\"DOMContentLoaded\", initListeners);\n\nfunction initListeners() {\n  document\n    .querySelector(\".confirm-btn\")\n    .addEventListener(\"click\", clickConfirm);\n  token = window.location.href.split(\"=\")[1];\n}\nlet auth = new GoTrue({\n  APIUrl: \"https://confident-hoover-cccfcc.netlify.app/.netlify/identity\",\n  setCookie: true,\n});\nfunction clickConfirm() {\n  auth.confirm(token, true);\n}\n"]}