!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},c=t.parcelRequire84f5;null==c&&((c=function(e){if(e in o)return o[e].exports;if(e in n){let t=n[e];delete n[e];let c={id:e,exports:{}};return o[e]=c,t.call(c.exports,c,c.exports),c.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,t){n[e]=t},t.parcelRequire84f5=c),c.register("4t8Sd",(function(t,o){var n=c("17dAM");let s;function r(){console.log("toggleExisting"),document.querySelector(".login-switch").classList.add("selected"),document.querySelector(".create-switch").classList.remove("selected"),document.querySelector(".login").classList.remove("hide"),document.querySelector(".signup").classList.add("hide"),document.querySelector(".recover-pass").classList.add("hide")}function l(){console.log("toggleCreate"),document.querySelector(".login-switch").classList.remove("selected"),document.querySelector(".create-switch").classList.add("selected"),document.querySelector(".signup").classList.remove("hide"),document.querySelector(".login").classList.add("hide")}function i(){console.log("forgot pass"),document.querySelector(".login").classList.add("hide"),document.querySelector(".recover-pass").classList.remove("hide")}window.addEventListener("DOMContentLoaded",(function(){document.querySelector(".login-switch").addEventListener("click",r),document.querySelector(".create-switch").addEventListener("click",l),document.querySelector(".create-switch").addEventListener("click",l),document.querySelector(".forgot-btn").addEventListener("click",i),document.querySelector(".forgot-back-btn").addEventListener("click",r)}));let d=new(e(n))({APIUrl:"https://confident-hoover-cccfcc.netlify.app/.netlify/identity",setCookie:!0});function a(e){u("<p>Did you paste in your API endpoint?</p>",e)}function u(e,t){t.querySelector(".message").innerHTML=e}document.querySelector("form[name='signup']").addEventListener("submit",(e=>{if(e.preventDefault(),console.log(e.target.elements.password.value),e.target.elements.password.value===e.target.elements.password2.value){console.log("succ");const t=e.target;d||a(t);const{email:o,password:n}=t.elements;d.signup(o.value,n.value).then((e=>{console.log(e),u(`<p>Created a user! </p><p>Response: </p><code>${JSON.stringify(e)}</code>`,t)})).catch((e=>{u(`Failed :( <code>${JSON.stringify(e)}</code>`,t),console.log(e)}))}else u("Passwords do not match",e.target),console.log("faill")})),document.querySelector("form[name='login']").addEventListener("submit",(e=>{e.preventDefault();const t=e.target;d||a(t);const{email:o,password:n}=t.elements;d.login(o.value,n.value).then((e=>{u("<p>Log in successful! </p>",t),console.log(e),s=d.currentUser(),window.location.href="/index.html"})).catch((e=>{u("Failed to log in :",t),console.log(e)}))})),document.querySelector("form[name='recover-pass']").addEventListener("submit",(e=>{e.preventDefault();const t=e.target;d||a(t),d.currentUser()||function(e){u("<p>User not found</p>",e)}(t);const o=d.currentUser().email;d.requestPasswordRecovery(o).then((e=>{u("<p>Recovery email sent, check your inbox! </p>",t),console.log(e)})).catch((e=>{u("Something went wrong :(",t),console.log(e)}))}))})),c("4t8Sd")}();
//# sourceMappingURL=login.cd052320.js.map
