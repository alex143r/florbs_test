{"version":3,"sources":["node_modules/micro-api-client/lib/pagination.js","node_modules/micro-api-client/lib/index.js","node_modules/gotrue-js/lib/admin.js","node_modules/gotrue-js/lib/user.js","node_modules/gotrue-js/lib/index.js","login.js"],"names":["window","addEventListener","initListeners","document","querySelector","toggleExisting","toggleCreate","toggleResetPass","console","log","classList","add","remove","toggleBackForgot","auth","GoTrue","APIUrl","audience","setCookie","e","preventDefault","target","elements","password","value","password2","form","noAuthFound","email","signup","then","response","showMessage","JSON","stringify","catch","error","login","textContent","currentUser","noUserFound","user","requestPasswordRecovery","msg","el","innerHTML","clearPage","querySelectorAll","forEach"],"mappings":"AEAA,AEAA,ADAA,AFAA,ADAA;AECA,AEAA,ADAA,AFAA,ADAA;AKDA,AHEA,AEAA,ADAA,AFAA,ADAA;AECA,AEAA,ADAA,AFAA,ADAA;AECA,AEAA,ADAA,AFAA,ADAA;AECA,AEAA,ADAA,AFAA,ADAA;AKHA,AHIA,AEAA,ADAA,AFAA,ADAA;AKHAA,AHIA,AEAA,ADAA,AFAA,ADAA,MKJM,CAACC,gBAAP,CAAwB,kBAAxB,EAA4CC,aAA5C;AHKA,AEAA,ADAA,AFAA,ADAA;AKJA,AHKA,AEAA,ADAA,AFAA,ADAA,SKLSA,aAAT,GAAyB;AACvBC,AHKF,AEAA,ADAA,AFAA,ADAA,EKLEA,QAAQ,CACLC,aADH,CACiB,eADjB,EAEGH,gBAFH,CAEoB,OAFpB,EAE6BI,cAF7B;AAGAF,AHGF,AEAA,ADAA,AFAA,ADAA,EKHEA,QAAQ,CACLC,aADH,CACiB,gBADjB,EAEGH,gBAFH,CAEoB,OAFpB,EAE6BK,YAF7B;AAGAH,AHCF,AEAA,ADAA,AFAA,ADAA,EKDEA,QAAQ,CACLC,aADH,CACiB,gBADjB,EAEGH,gBAFH,CAEoB,OAFpB,EAE6BK,YAF7B;AAGAH,AHDF,AEAA,ADAA,AFAA,ADAA,EKCEA,QAAQ,CACLC,aADH,CACiB,aADjB,EAEGH,gBAFH,CAEoB,OAFpB,EAE6BM,eAF7B;AAGAJ,AHHF,AEAA,ADAA,AFAA,ADAA,EKGEA,QAAQ,CACLC,aADH,CACiB,kBADjB,EAEGH,gBAFH,CAEoB,OAFpB,EAE6BI,cAF7B;AAGD,AHLD,AEAA,ADAA,AFAA,ADAA;AECA,AEAA,ADAA,AFAA,ADAA;AKMA,AHLA,AEAA,ADAA,AFAA,ADAA,SKKSA,cAAT,GAA0B;AACxBG,AHLF,AEAA,ADAA,AFAA,ADAA,EKKEA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAN,AHLF,AEAA,ADAA,AFAA,ADAA,EKKEA,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCM,SAAxC,CAAkDC,GAAlD,CAAsD,UAAtD;AACAR,AHLF,AEAA,ADAA,AFAA,ADAA,EKKEA,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCM,SAAzC,CAAmDE,MAAnD,CAA0D,UAA1D;AACAT,AHLF,AEAA,ADAA,AFAA,ADAA,EKKEA,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCM,SAAjC,CAA2CE,MAA3C,CAAkD,MAAlD;AACAT,AHLF,AEAA,ADAA,AFAA,ADAA,EKKEA,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCM,SAAlC,CAA4CC,GAA5C,CAAgD,MAAhD;AACAR,AHLF,AEAA,ADAA,AFAA,ADAA,EKKEA,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCM,SAAxC,CAAkDC,GAAlD,CAAsD,MAAtD;AACD,AHLD,AEAA,ADAA,AFAA,ADAA;AECA,AEAA,ADAA,AFAA,ADAA;AKKA,AHJA,AEAA,ADAA,AFAA,ADAA,SKISL,YAAT,GAAwB;AACtBE,AHJF,AEAA,ADAA,AFAA,ADAA,EKIEA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAN,AHJF,AEAA,ADAA,AFAA,ADAA,EKIEA,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCM,SAAxC,CAAkDE,MAAlD,CAAyD,UAAzD;AACAT,AHJF,AEAA,ADAA,AFAA,ADAA,EKIEA,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCM,SAAzC,CAAmDC,GAAnD,CAAuD,UAAvD;AACAR,AHJF,AEAA,ADAA,AFAA,ADAA,EKIEA,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCM,SAAlC,CAA4CE,MAA5C,CAAmD,MAAnD;AACAT,AHJF,AEAA,ADAA,AFAA,ADAA,EKIEA,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCM,SAAjC,CAA2CC,GAA3C,CAA+C,MAA/C;AACD,AHJD,AEAA,ADAA,AFAA,ADAA;AECA,AEAA,ADAA,AFAA,ADAA;AKIA,AHHA,AEAA,ADAA,AFAA,ADAA,SKGSJ,eAAT,GAA2B;AACzBC,AHHF,AEAA,ADAA,AFAA,ADAA,EKGEA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAN,AHHF,AEAA,ADAA,AFAA,ADAA,EKGEA,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCM,SAAjC,CAA2CC,GAA3C,CAA+C,MAA/C;AACAR,AHHF,AEAA,ADAA,AFAA,ADAA,EKGEA,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCM,SAAxC,CAAkDE,MAAlD,CAAyD,MAAzD;AACD,AHHD,AEAA,ADAA,AFAA,ADAA;AECA,AEAA,ADAA,AFAA,ADAA;AKGA,AHFA,AEAA,ADAA,AFAA,ADAA,SKESC,gBAAT,GAA4B,CAAE,EAE9B;AHHA,AEAA,ADAA,AFAA,ADAA;AECA,AEAA,ADAA,AFAA,ADAA;AKIA,AHHA,AEAA,ADAA,AFAA,ADAA,IKGIC,IAAI,GAAG,IAAIC,iBAAJ,CAAW;AACpBC,AHHF,AEAA,ADAA,AFAA,ADAA,EKGEA,MAAM,EAAE,+DADY;AAEpBC,AHHF,AEAA,ADAA,AFAA,ADAA,EKGEA,QAAQ,EAAE,EAFU;AAGpBC,AHHF,AEAA,ADAA,AFAA,EIGEA,SAAS,EAAE;AAHS,AHCtB,AEAA,ADAA,AFAA,CIDW,CAAX;AAKAf,AHHA,AEAA,ADAA,AFAA,QIGQ,CACLC,aADH,CACiB,qBADjB,EAEGH,gBAFH,CAEoB,QAFpB,EAE8B,UAACkB,CAAD,EAAO;AACjCA,AHLJ,AEAA,ADAA,AFAA,EIKIA,CAAC,CAACC,cAAF;AACAZ,AHLJ,AEAA,ADAA,AFAA,EIKIA,OAAO,CAACC,GAAR,CAAYU,CAAC,CAACE,MAAF,CAASC,QAAT,CAAkBC,QAAlB,CAA2BC,KAAvC;AHJJ,AEAA,ADAA,AFAA;AIKI,AHJJ,AEAA,ADAA,AFAA,MIKML,CAAC,CAACE,MAAF,CAASC,QAAT,CAAkBC,QAAlB,CAA2BC,KAA3B,KAAqCL,CAAC,CAACE,MAAF,CAASC,QAAT,CAAkBG,SAAlB,CAA4BD,KADnE,EAEE;AACAhB,AHNN,AEAA,ADAA,AFAA,IIMMA,OAAO,CAACC,GAAR,CAAY,MAAZ;AAEA,AHPN,AEAA,ADAA,AFAA,QIOYiB,IAAI,GAAGP,CAAC,CAACE,MAAf;AHNN,AEAA,ADAA,AFAA;AIOM,AHNN,AEAA,ADAA,AFAA,QIMU,CAACP,IAAL,EAAW;AACTa,AHNR,AEAA,ADAA,AFAA,MIMQA,WAAW,CAACD,IAAD,CAAX;AACD,AHNP,AEAA,ADAA,AFAA;ACCA,AEAA,ADAA,AFAA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,GAAiB,EAAjB;AACD,ADpBH,ADAA,AFAA,GIkBE;AAGD,ADpBD,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA,AFAA;AGCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;ACCA,ADAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.5087793e.js","sourceRoot":"..","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.getPagination = getPagination;\nfunction getPagination(response) {\n  var links = response.headers.get(\"Link\");\n  var pagination = {};\n  //var link, url, rel, m, page;\n  if (links == null) {\n    return null;\n  }\n  links = links.split(\",\");\n  var total = response.headers.get(\"X-Total-Count\");\n\n  for (var i = 0, len = links.length; i < len; i++) {\n    var link = links[i].replace(/(^\\s*|\\s*$)/, \"\");\n\n    var _link$split = link.split(\";\"),\n        _link$split2 = _slicedToArray(_link$split, 2),\n        url = _link$split2[0],\n        rel = _link$split2[1];\n\n    var m = url.match(/page=(\\d+)/);\n    var page = m && parseInt(m[1], 10);\n    if (rel.match(/last/)) {\n      pagination.last = page;\n    } else if (rel.match(/next/)) {\n      pagination.next = page;\n    } else if (rel.match(/prev/)) {\n      pagination.prev = page;\n    } else if (rel.match(/first/)) {\n      pagination.first = page;\n    }\n  }\n\n  pagination.last = Math.max(pagination.last || 0, pagination.prev && pagination.prev + 1 || 0);\n  pagination.current = pagination.next ? pagination.next - 1 : pagination.last || 1;\n  pagination.total = total ? parseInt(total, 10) : null;\n\n  return pagination;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JSONHTTPError = exports.TextHTTPError = exports.HTTPError = exports.getPagination = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _pagination = require(\"./pagination\");\n\nObject.defineProperty(exports, \"getPagination\", {\n  enumerable: true,\n  get: function get() {\n    return _pagination.getPagination;\n  }\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nvar HTTPError = exports.HTTPError = function (_extendableBuiltin2) {\n  _inherits(HTTPError, _extendableBuiltin2);\n\n  function HTTPError(response) {\n    _classCallCheck(this, HTTPError);\n\n    var _this = _possibleConstructorReturn(this, (HTTPError.__proto__ || Object.getPrototypeOf(HTTPError)).call(this, response.statusText));\n\n    _this.name = _this.constructor.name;\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(_this, _this.constructor);\n    } else {\n      _this.stack = new Error(response.statusText).stack;\n    }\n    _this.status = response.status;\n    return _this;\n  }\n\n  return HTTPError;\n}(_extendableBuiltin(Error));\n\nvar TextHTTPError = exports.TextHTTPError = function (_HTTPError) {\n  _inherits(TextHTTPError, _HTTPError);\n\n  function TextHTTPError(response, data) {\n    _classCallCheck(this, TextHTTPError);\n\n    var _this2 = _possibleConstructorReturn(this, (TextHTTPError.__proto__ || Object.getPrototypeOf(TextHTTPError)).call(this, response));\n\n    _this2.data = data;\n    return _this2;\n  }\n\n  return TextHTTPError;\n}(HTTPError);\n\nvar JSONHTTPError = exports.JSONHTTPError = function (_HTTPError2) {\n  _inherits(JSONHTTPError, _HTTPError2);\n\n  function JSONHTTPError(response, json) {\n    _classCallCheck(this, JSONHTTPError);\n\n    var _this3 = _possibleConstructorReturn(this, (JSONHTTPError.__proto__ || Object.getPrototypeOf(JSONHTTPError)).call(this, response));\n\n    _this3.json = json;\n    return _this3;\n  }\n\n  return JSONHTTPError;\n}(HTTPError);\n\nvar API = function () {\n  function API() {\n    var apiURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments[1];\n\n    _classCallCheck(this, API);\n\n    this.apiURL = apiURL;\n    if (this.apiURL.match(/\\/[^\\/]?/)) {\n      // eslint-disable-line no-useless-escape\n      this._sameOrigin = true;\n    }\n    this.defaultHeaders = options && options.defaultHeaders || {};\n  }\n\n  _createClass(API, [{\n    key: \"headers\",\n    value: function headers() {\n      var _headers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _extends({}, this.defaultHeaders, {\n        \"Content-Type\": \"application/json\"\n      }, _headers);\n    }\n  }, {\n    key: \"parseJsonResponse\",\n    value: function parseJsonResponse(response) {\n      return response.json().then(function (json) {\n        if (!response.ok) {\n          return Promise.reject(new JSONHTTPError(response, json));\n        }\n\n        var pagination = (0, _pagination.getPagination)(response);\n        return pagination ? { pagination: pagination, items: json } : json;\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function request(path) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var headers = this.headers(options.headers || {});\n      if (this._sameOrigin) {\n        options.credentials = options.credentials || \"same-origin\";\n      }\n      return fetch(this.apiURL + path, _extends({}, options, { headers: headers })).then(function (response) {\n        var contentType = response.headers.get(\"Content-Type\");\n        if (contentType && contentType.match(/json/)) {\n          return _this4.parseJsonResponse(response);\n        }\n\n        if (!response.ok) {\n          return response.text().then(function (data) {\n            return Promise.reject(new TextHTTPError(response, data));\n          });\n        }\n        return response.text().then(function (data) {\n          data;\n        });\n      });\n    }\n  }]);\n\n  return API;\n}();\n\nexports.default = API;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Admin = /*#__PURE__*/function () {\n  function Admin(user) {\n    _classCallCheck(this, Admin);\n\n    this.user = user;\n  } // Return a list of all users in an audience\n\n\n  _createClass(Admin, [{\n    key: \"listUsers\",\n    value: function listUsers(aud) {\n      return this.user._request('/admin/users', {\n        method: 'GET',\n        audience: aud\n      });\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser(user) {\n      return this.user._request(\"/admin/users/\".concat(user.id));\n    }\n  }, {\n    key: \"updateUser\",\n    value: function updateUser(user) {\n      var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.user._request(\"/admin/users/\".concat(user.id), {\n        method: 'PUT',\n        body: JSON.stringify(attributes)\n      });\n    }\n  }, {\n    key: \"createUser\",\n    value: function createUser(email, password) {\n      var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      attributes.email = email;\n      attributes.password = password;\n      return this.user._request('/admin/users', {\n        method: 'POST',\n        body: JSON.stringify(attributes)\n      });\n    }\n  }, {\n    key: \"deleteUser\",\n    value: function deleteUser(user) {\n      return this.user._request(\"/admin/users/\".concat(user.id), {\n        method: 'DELETE'\n      });\n    }\n  }]);\n\n  return Admin;\n}();\n\nexports[\"default\"] = Admin;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _microApiClient = _interopRequireWildcard(require(\"micro-api-client\"));\n\nvar _admin = _interopRequireDefault(require(\"./admin.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ExpiryMargin = 60 * 1000;\nvar storageKey = 'gotrue.user';\nvar refreshPromises = {};\nvar currentUser = null;\nvar forbiddenUpdateAttributes = {\n  api: 1,\n  token: 1,\n  audience: 1,\n  url: 1\n};\nvar forbiddenSaveAttributes = {\n  api: 1\n};\n\nvar isBrowser = function isBrowser() {\n  return typeof window !== 'undefined';\n};\n\nvar User = /*#__PURE__*/function () {\n  function User(api, tokenResponse, audience) {\n    _classCallCheck(this, User);\n\n    this.api = api;\n    this.url = api.apiURL;\n    this.audience = audience;\n\n    this._processTokenResponse(tokenResponse);\n\n    currentUser = this;\n  }\n\n  _createClass(User, [{\n    key: \"update\",\n    value: function update(attributes) {\n      var _this = this;\n\n      return this._request('/user', {\n        method: 'PUT',\n        body: JSON.stringify(attributes)\n      }).then(function (response) {\n        return _this._saveUserData(response)._refreshSavedSession();\n      });\n    }\n  }, {\n    key: \"jwt\",\n    value: function jwt(forceRefresh) {\n      var token = this.tokenDetails();\n\n      if (token === null || token === undefined) {\n        return Promise.reject(new Error(\"Gotrue-js: failed getting jwt access token\"));\n      }\n\n      var expires_at = token.expires_at,\n          refresh_token = token.refresh_token,\n          access_token = token.access_token;\n\n      if (forceRefresh || expires_at - ExpiryMargin < Date.now()) {\n        return this._refreshToken(refresh_token);\n      }\n\n      return Promise.resolve(access_token);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      return this._request('/logout', {\n        method: 'POST'\n      }).then(this.clearSession.bind(this))[\"catch\"](this.clearSession.bind(this));\n    }\n  }, {\n    key: \"_refreshToken\",\n    value: function _refreshToken(refresh_token) {\n      var _this2 = this;\n\n      if (refreshPromises[refresh_token]) {\n        return refreshPromises[refresh_token];\n      }\n\n      return refreshPromises[refresh_token] = this.api.request('/token', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: \"grant_type=refresh_token&refresh_token=\".concat(refresh_token)\n      }).then(function (response) {\n        delete refreshPromises[refresh_token];\n\n        _this2._processTokenResponse(response);\n\n        _this2._refreshSavedSession();\n\n        return _this2.token.access_token;\n      })[\"catch\"](function (error) {\n        delete refreshPromises[refresh_token];\n\n        _this2.clearSession();\n\n        return Promise.reject(error);\n      });\n    }\n  }, {\n    key: \"_request\",\n    value: function _request(path) {\n      var _this3 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      options.headers = options.headers || {};\n      var aud = options.audience || this.audience;\n\n      if (aud) {\n        options.headers['X-JWT-AUD'] = aud;\n      }\n\n      return this.jwt().then(function (token) {\n        return _this3.api.request(path, _objectSpread({\n          headers: Object.assign(options.headers, {\n            Authorization: \"Bearer \".concat(token)\n          })\n        }, options))[\"catch\"](function (error) {\n          if (error instanceof _microApiClient.JSONHTTPError && error.json) {\n            if (error.json.msg) {\n              error.message = error.json.msg;\n            } else if (error.json.error) {\n              error.message = \"\".concat(error.json.error, \": \").concat(error.json.error_description);\n            }\n          }\n\n          return Promise.reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"getUserData\",\n    value: function getUserData() {\n      return this._request('/user').then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this));\n    }\n  }, {\n    key: \"_saveUserData\",\n    value: function _saveUserData(attributes, fromStorage) {\n      for (var key in attributes) {\n        if (key in User.prototype || key in forbiddenUpdateAttributes) {\n          continue;\n        }\n\n        this[key] = attributes[key];\n      }\n\n      if (fromStorage) {\n        this._fromStorage = true;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_processTokenResponse\",\n    value: function _processTokenResponse(tokenResponse) {\n      this.token = tokenResponse;\n\n      try {\n        var claims = JSON.parse(urlBase64Decode(tokenResponse.access_token.split('.')[1]));\n        this.token.expires_at = claims.exp * 1000;\n      } catch (error) {\n        console.error(new Error(\"Gotrue-js: Failed to parse tokenResponse claims: \".concat(error)));\n      }\n    }\n  }, {\n    key: \"_refreshSavedSession\",\n    value: function _refreshSavedSession() {\n      // only update saved session if we previously saved something\n      if (isBrowser() && localStorage.getItem(storageKey)) {\n        this._saveSession();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_saveSession\",\n    value: function _saveSession() {\n      isBrowser() && localStorage.setItem(storageKey, JSON.stringify(this._details));\n      return this;\n    }\n  }, {\n    key: \"tokenDetails\",\n    value: function tokenDetails() {\n      return this.token;\n    }\n  }, {\n    key: \"clearSession\",\n    value: function clearSession() {\n      User.removeSavedSession();\n      this.token = null;\n      currentUser = null;\n    }\n  }, {\n    key: \"admin\",\n    get: function get() {\n      return new _admin[\"default\"](this);\n    }\n  }, {\n    key: \"_details\",\n    get: function get() {\n      var userCopy = {};\n\n      for (var key in this) {\n        if (key in User.prototype || key in forbiddenSaveAttributes) {\n          continue;\n        }\n\n        userCopy[key] = this[key];\n      }\n\n      return userCopy;\n    }\n  }], [{\n    key: \"removeSavedSession\",\n    value: function removeSavedSession() {\n      isBrowser() && localStorage.removeItem(storageKey);\n    }\n  }, {\n    key: \"recoverSession\",\n    value: function recoverSession(apiInstance) {\n      if (currentUser) {\n        return currentUser;\n      }\n\n      var json = isBrowser() && localStorage.getItem(storageKey);\n\n      if (json) {\n        try {\n          var data = JSON.parse(json);\n          var url = data.url,\n              token = data.token,\n              audience = data.audience;\n\n          if (!url || !token) {\n            return null;\n          }\n\n          var api = apiInstance || new _microApiClient[\"default\"](url, {});\n          return new User(api, token, audience)._saveUserData(data, true);\n        } catch (error) {\n          console.error(new Error(\"Gotrue-js: Error recovering session: \".concat(error)));\n          return null;\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return User;\n}();\n\nexports[\"default\"] = User;\n\nfunction urlBase64Decode(str) {\n  // From https://jwt.io/js/jwt.js\n  var output = str.replace(/-/g, '+').replace(/_/g, '/');\n\n  switch (output.length % 4) {\n    case 0:\n      break;\n\n    case 2:\n      output += '==';\n      break;\n\n    case 3:\n      output += '=';\n      break;\n\n    default:\n      throw 'Illegal base64url string!';\n  } // polifyll https://github.com/davidchambers/Base64.js\n\n\n  var result = window.atob(output);\n\n  try {\n    return decodeURIComponent(escape(result));\n  } catch (error) {\n    return result;\n  }\n}","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _microApiClient = _interopRequireWildcard(require(\"micro-api-client\"));\n\nvar _user = _interopRequireDefault(require(\"./user.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar HTTPRegexp = /^http:\\/\\//;\nvar defaultApiURL = \"/.netlify/identity\";\n\nvar GoTrue = /*#__PURE__*/function () {\n  function GoTrue() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$APIUrl = _ref.APIUrl,\n        APIUrl = _ref$APIUrl === void 0 ? defaultApiURL : _ref$APIUrl,\n        _ref$audience = _ref.audience,\n        audience = _ref$audience === void 0 ? '' : _ref$audience,\n        _ref$setCookie = _ref.setCookie,\n        setCookie = _ref$setCookie === void 0 ? false : _ref$setCookie;\n\n    _classCallCheck(this, GoTrue);\n\n    if (APIUrl.match(HTTPRegexp)) {\n      console.warn('Warning:\\n\\nDO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!\\nGoTrue REQUIRES HTTPS to work securely.');\n    }\n\n    if (audience) {\n      this.audience = audience;\n    }\n\n    this.setCookie = setCookie;\n    this.api = new _microApiClient[\"default\"](APIUrl);\n  }\n\n  _createClass(GoTrue, [{\n    key: \"_request\",\n    value: function _request(path) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      options.headers = options.headers || {};\n      var aud = options.audience || this.audience;\n\n      if (aud) {\n        options.headers['X-JWT-AUD'] = aud;\n      }\n\n      return this.api.request(path, options)[\"catch\"](function (error) {\n        if (error instanceof _microApiClient.JSONHTTPError && error.json) {\n          if (error.json.msg) {\n            error.message = error.json.msg;\n          } else if (error.json.error) {\n            error.message = \"\".concat(error.json.error, \": \").concat(error.json.error_description);\n          }\n        }\n\n        return Promise.reject(error);\n      });\n    }\n  }, {\n    key: \"settings\",\n    value: function settings() {\n      return this._request('/settings');\n    }\n  }, {\n    key: \"signup\",\n    value: function signup(email, password, data) {\n      return this._request('/signup', {\n        method: 'POST',\n        body: JSON.stringify({\n          email: email,\n          password: password,\n          data: data\n        })\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(email, password, remember) {\n      var _this = this;\n\n      this._setRememberHeaders(remember);\n\n      return this._request('/token', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: \"grant_type=password&username=\".concat(encodeURIComponent(email), \"&password=\").concat(encodeURIComponent(password))\n      }).then(function (response) {\n        _user[\"default\"].removeSavedSession();\n\n        return _this.createUser(response, remember);\n      });\n    }\n  }, {\n    key: \"loginExternalUrl\",\n    value: function loginExternalUrl(provider) {\n      return \"\".concat(this.api.apiURL, \"/authorize?provider=\").concat(provider);\n    }\n  }, {\n    key: \"confirm\",\n    value: function confirm(token, remember) {\n      this._setRememberHeaders(remember);\n\n      return this.verify('signup', token, remember);\n    }\n  }, {\n    key: \"requestPasswordRecovery\",\n    value: function requestPasswordRecovery(email) {\n      return this._request('/recover', {\n        method: 'POST',\n        body: JSON.stringify({\n          email: email\n        })\n      });\n    }\n  }, {\n    key: \"recover\",\n    value: function recover(token, remember) {\n      this._setRememberHeaders(remember);\n\n      return this.verify('recovery', token, remember);\n    }\n  }, {\n    key: \"acceptInvite\",\n    value: function acceptInvite(token, password, remember) {\n      var _this2 = this;\n\n      this._setRememberHeaders(remember);\n\n      return this._request('/verify', {\n        method: 'POST',\n        body: JSON.stringify({\n          token: token,\n          password: password,\n          type: 'signup'\n        })\n      }).then(function (response) {\n        return _this2.createUser(response, remember);\n      });\n    }\n  }, {\n    key: \"acceptInviteExternalUrl\",\n    value: function acceptInviteExternalUrl(provider, token) {\n      return \"\".concat(this.api.apiURL, \"/authorize?provider=\").concat(provider, \"&invite_token=\").concat(token);\n    }\n  }, {\n    key: \"createUser\",\n    value: function createUser(tokenResponse) {\n      var remember = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this._setRememberHeaders(remember);\n\n      var user = new _user[\"default\"](this.api, tokenResponse, this.audience);\n      return user.getUserData().then(function (userData) {\n        if (remember) {\n          userData._saveSession();\n        }\n\n        return userData;\n      });\n    }\n  }, {\n    key: \"currentUser\",\n    value: function currentUser() {\n      var user = _user[\"default\"].recoverSession(this.api);\n\n      user && this._setRememberHeaders(user._fromStorage);\n      return user;\n    }\n  }, {\n    key: \"verify\",\n    value: function verify(type, token, remember) {\n      var _this3 = this;\n\n      this._setRememberHeaders(remember);\n\n      return this._request('/verify', {\n        method: 'POST',\n        body: JSON.stringify({\n          token: token,\n          type: type\n        })\n      }).then(function (response) {\n        return _this3.createUser(response, remember);\n      });\n    }\n  }, {\n    key: \"_setRememberHeaders\",\n    value: function _setRememberHeaders(remember) {\n      if (this.setCookie) {\n        this.api.defaultHeaders = this.api.defaultHeaders || {};\n        this.api.defaultHeaders['X-Use-Cookie'] = remember ? '1' : 'session';\n      }\n    }\n  }]);\n\n  return GoTrue;\n}();\n\nexports[\"default\"] = GoTrue;\n\nif (typeof window !== 'undefined') {\n  window.GoTrue = GoTrue;\n}","import GoTrue from \"gotrue-js\";\r\n\r\n//add eventlisteners\r\nwindow.addEventListener(\"DOMContentLoaded\", initListeners);\r\nfunction initListeners() {\r\n  document\r\n    .querySelector(\".login-switch\")\r\n    .addEventListener(\"click\", toggleExisting);\r\n  document\r\n    .querySelector(\".create-switch\")\r\n    .addEventListener(\"click\", toggleCreate);\r\n  document\r\n    .querySelector(\".create-switch\")\r\n    .addEventListener(\"click\", toggleCreate);\r\n  document\r\n    .querySelector(\".forgot-btn\")\r\n    .addEventListener(\"click\", toggleResetPass);\r\n  document\r\n    .querySelector(\".forgot-back-btn\")\r\n    .addEventListener(\"click\", toggleExisting);\r\n}\r\n\r\nfunction toggleExisting() {\r\n  console.log(\"toggleExisting\");\r\n  document.querySelector(\".login-switch\").classList.add(\"selected\");\r\n  document.querySelector(\".create-switch\").classList.remove(\"selected\");\r\n  document.querySelector(\".login\").classList.remove(\"hide\");\r\n  document.querySelector(\".signup\").classList.add(\"hide\");\r\n  document.querySelector(\".recover-pass\").classList.add(\"hide\");\r\n}\r\nfunction toggleCreate() {\r\n  console.log(\"toggleCreate\");\r\n  document.querySelector(\".login-switch\").classList.remove(\"selected\");\r\n  document.querySelector(\".create-switch\").classList.add(\"selected\");\r\n  document.querySelector(\".signup\").classList.remove(\"hide\");\r\n  document.querySelector(\".login\").classList.add(\"hide\");\r\n}\r\nfunction toggleResetPass() {\r\n  console.log(\"forgot pass\");\r\n  document.querySelector(\".login\").classList.add(\"hide\");\r\n  document.querySelector(\".recover-pass\").classList.remove(\"hide\");\r\n}\r\nfunction toggleBackForgot() {}\r\n\r\n//Instantiate the GoTrue auth client + GoTrue functions\r\n\r\nlet auth = new GoTrue({\r\n  APIUrl: \"https://confident-hoover-cccfcc.netlify.app/.netlify/identity\",\r\n  audience: \"\",\r\n  setCookie: false,\r\n});\r\ndocument\r\n  .querySelector(\"form[name='signup']\")\r\n  .addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    console.log(e.target.elements.password.value);\r\n    if (\r\n      e.target.elements.password.value === e.target.elements.password2.value\r\n    ) {\r\n      console.log(\"succ\");\r\n\r\n      const form = e.target;\r\n      if (!auth) {\r\n        noAuthFound(form);\r\n      }\r\n\r\n      const { email, password } = form.elements;\r\n      auth\r\n        .signup(email.value, password.value)\r\n        .then((response) => {\r\n          console.log(response);\r\n          showMessage(\r\n            `<p>Created a user! </p><p>Response: </p><code>${JSON.stringify(\r\n              response\r\n            )}</code>`,\r\n            form\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          showMessage(`Failed :( <code>${JSON.stringify(error)}</code>`, form);\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      showMessage(`Passwords do not match`, e.target);\r\n      console.log(\"faill\");\r\n    }\r\n  });\r\n//login\r\ndocument.querySelector(\"form[name='login']\").addEventListener(\"submit\", (e) => {\r\n  e.preventDefault();\r\n  const form = e.target;\r\n  if (!auth) {\r\n    noAuthFound(form);\r\n  }\r\n  const { email, password } = form.elements;\r\n  auth\r\n    .login(email.value, password.value)\r\n    .then((response) => {\r\n      document.querySelector(\"#user-email\").textContent = email.value;\r\n      showMessage(`<p>Log in successful! </p>`, form);\r\n      console.log(response);\r\n    })\r\n    .catch((error) => {\r\n      showMessage(`Failed to log in :`, form);\r\n      console.log(error);\r\n    });\r\n});\r\n\r\n//request recovery email\r\ndocument\r\n  .querySelector(\"form[name='recover-pass']\")\r\n  .addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n\r\n    if (!auth) {\r\n      noAuthFound(form);\r\n    }\r\n\r\n    if (!auth.currentUser()) {\r\n      noUserFound(form);\r\n    }\r\n\r\n    const user = auth.currentUser();\r\n    const email = user.email;\r\n\r\n    auth\r\n      .requestPasswordRecovery(email)\r\n      .then((response) => {\r\n        showMessage(`<p>Recovery email sent, check your inbox! </p>`, form);\r\n        console.log(response);\r\n      })\r\n      .catch((error) => {\r\n        showMessage(`Something went wrong :(`, form);\r\n        console.log(error);\r\n      });\r\n  });\r\n\r\n//helper functions\r\n\r\nfunction noAuthFound(form) {\r\n  showMessage(`<p>Did you paste in your API endpoint?</p>`, form);\r\n}\r\n\r\nfunction noUserFound(form) {\r\n  showMessage(`<p>User not found</p>`, form);\r\n}\r\n\r\nfunction showMessage(msg, el) {\r\n  el.querySelector(\".message\").innerHTML = msg;\r\n}\r\n\r\nfunction clearPage() {\r\n  document.querySelectorAll(\".message\").forEach((el) => {\r\n    el.textContent = \"\";\r\n  });\r\n}\r\n"]}